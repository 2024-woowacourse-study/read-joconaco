# 5 가독성 높은 코드를 작성하라
## 목차
- [5.1 서술형 명칭 사용](#51-서술형-명칭-사용)
- [5.2 주석문의 적절한 사용](#52-주석문의-적절한-사용)
- [5.3 코드 줄 수를 고정하지 말라](#53-코드-줄-수를-고정하지-말라)
- [5.4 일관된 코딩 스타일을 고수하라](#54-일관된-코딩-스타일을-고수하라)
- [5.5 깊이 중첩된 코드를 피하라](#55-깊이-중첩된-코드를-피하라)
- [5.6 함수 호출도 가독성이 있어야 한다](#56-함수-호출도-가독성이-있어야-한다)
- [5.7 설명되지 않은 값을 사용하지 말라](#57-설명되지-않은-값을-사용하지-말라)
- [5.8 익명 함수를 적절하게 사용하라](#58-익명-함수를-적절하게-사용하라)
- [5.9 프로그래밍 언어의 새로운 기능을 적절하게 사용하라](#59-프로그래밍-언어의-새로운-기능을-적절하게-사용하라)

## 5.1 서술형 명칭 사용
1. 고유하게 식별할 수 있다.
2. 어떤 일을 하는지 힌트를 줄 수 있다.

### 주석이나 문서로 대체?
- 주석, 문서도 유지보수해야 한다.
- 코드를 이해하기 위해 계속해서 위아래로 스크롤해야 한다.
- 메서드를 확인할 때 클래스를 열어봐야 한다.

## 5.2 주석문의 적절한 사용
- 코드가 **무엇**을 하는지 설명
- 코드가 **왜** 그 일을 하는지 설명
- 사용 지침 등 기타 정보 제공

큰 단위의 코드에서 요약의 목적으로 높은 수준의 주석문을 사용하는 것은 유용할 수 있다. <br>
-> 낮은 층위에서는 오히려 가독성을 해친다.

### 주석문을 사용할 때 인지할 것
- 주석은 유지보수 대상이다. 코드가 변경되면 주석도 수정되어야 한다.
- 코드를 지저분하게 만들 수 있기 때문에 코드 자체로 설명이 된다면 주석을 넣지 않는다.
- 가독성이 좋은 코드 >>>>>>>>>>>>>>>>>> 주석
- 코드 자체로 "왜" 수행하는지 설명하기 어렵다면 유용할 수 있다. (배경 상황이나 지식 추가)
    - 제품 또는 비즈니스 의사 결정
    - 이상하고 명확하지 않은 버그에 대한 해결책
    - 의존하는 코드의 예쌍을 벗어나는 동작에 대처
- 문서를 모든 개발자가 읽지 않는다.

## 5.3 코드 줄 수를 고정하지 말라
라인 수가 적을 수록 좋지만 이해하기 쉽고, 오해하기 어렵고, 실수가 발생하기 어려운 코드를 만드는데 집중해야 한다.

## 5.4 일관된 코딩 스타일을 고수하라
- 자명한 축약어는 그대로 쓴다. (ex. Software as a Service -> SaaS)
- 클래스명: 파스칼 케이스
- 변수명: 카멜 케이스
- linter를 적용하자

## 5.5 깊이 중첩된 코드를 피하라
- indent가 많으면 코드를 이해하기 어렵다.
- indent가 많다는 것은 해당 메서드가 여러 가지 일을 한다는 얘기이다.

-> 작은 단위의 메서드로 분리하자!

## 5.6 함수 호출도 가독성이 있어야 한다
```java
sendMessage("hello", 1, true); // <- 1과 true가 가지는 의미는 무엇일까?
```
원시값을 포장해보자!

```java
class MessagePriority {
    private final int priority;

    // ...
}

enum RetryPolicy {
    ALLOW_RETRY,
    DISALLOW_RETRY;
}

sendMessage("hello", new MessagePriority(1), RetryPolicy.ALLOW_RETRY);
```

> 토론할 점 <br>
가독성 vs 관리할 클래스 개수

<br>

```java
BoundingBox box = new BoundingBox(10, 50, 5, 10);
```
각각의 숫자가 의미하는 것은 무엇일까?

의미를 알고 있다고 하더라도 값을 잘못 입력하는 실수가 발생할 가능성이 있지 않을까?

-> setter, builder 패턴이 대안이 될 수 있지만 값이 누락된 채 인스턴스가 생성될 수 있다.

## 5.7 설명되지 않은 값을 사용하지 말라
- 매직 넘버를 상수로 표현하기
```java
private static final double KILOGRAMS_PER_US_TON = 907.1847;
```
- 공급자 함수 사용하기
```java
private static double kilogramsPerUsTon() {
    return 907.1847;
}
```
- 헬퍼 함수 사용하기
```java
private static double usTonsToKilograms(double usTons) {
    return usTons * 907.1847;
}
```

## 5.8 익명 함수를 적절하게 사용하라
- boilerplate code 감소
- 가독성 향상

### 유의 사항
- 간단하고 자명한 것에 사용해야 한다. -> 가독성을 해칠 수 있다.
- 재사용하지 않은 것에 사용해야 한다. -> 중복 로직 발생
- 익명 함수가 길면 가독성을 해친다 -> 여러 개의 명명 함수로 분리해야 한다.

## 5.9 프로그래밍 언어의 새로운 기능을 적절하게 사용하라
> ex) for문 -> stream

### 주위할 점
새로운 기능이 다른 개발자에게 잘 알려져 있지 않다면 혼란을 줄 수 있다.
> 새로운 기능을 도입했을 때 얻을 수 있는 장점이 더 많다면 사내 스터디를 개설해볼 것 같다.

새로운 기능이 무조건적으로 좋지 않을 수 있다.
```java
String value = map.get(key);

// stream으로 수정
Optional<String> value = map.entrySet()
                    .stream()
                    .filter(...)
                    .map(Entry::getValue)
                    .findFirst();
```

> 이번 사다리 미션에서 똑같은 코드로 작성한 부분이 있는데 고민을 더 해봐야겠다.

