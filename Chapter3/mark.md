## Chapter3 다른 개발자와 코드 계약

- 다른 개발자들이 코드와 어떻게 상호작용하는지
- 코드 계약과 코드 계약의 세부 조항
- 세부 조항을 최소화하는 것이 어떻게 오용, 예측을 벗어나는 코드를 예방하는데 도움이 되는지
- 세부 조항을 피할 수 없다면 체크와 어서션을 어떻게 사용항 수 있는지

혼자 개발하지 않고 팀 단위로 개발하는 것이 현실. 서로 다른 개발자가 작성한 코드를 작업해야 함

- 이 장에서 코드의 중요한 세부사항을 다른 개발자에게 전달하기 위한 여러가지 기법에 대해 논의  
- 코드 계약 및 숨겨진 세부조항(small print)의 개념을 사용해 이 내용을 형식화  
- 이 장의 마지막 두 절에서는 오용과 오해를 쉽게 유발하는 코드의 실제 사례를 살펴 보고 코드를 개선하는 방법을 논의

<details>
  <summary>3.1 자신의 코드와 다른 개발자의 코드</summary>
  팀 일원으로 코드 작성 -> 이를 바탕으로 계층 쌓음 -> 다른 개발자가 하위 문제 해결 코드 재사용.


  요수 사항은 항상 변함
  - 우선순위 변경
  - 새로운 기능 추가
  - 시스템을 새로운 기술 환경으로 이동

  많은 개발자들이 코드를 수정하는데 잘못된 코드라면 문제 생기기 쉬움

  고품질 코드 작성시 가장 중요한 고려 사항
  - 다른 개발자가 변경 or 상호작용 시 발생할 문제가 있는지, 발생하면 어떻게 완화할지 선제적 조치

  코드 작성 시 다음 세 가지 고려하는 것이 유용
  1. 자신에게 명백하다고 해서 다른 사람에게도 명백한 것이 아님
  2. 다른 개발자가 무의식중에 내 코드를 망가뜨릴 수 있음
  3. 시간이 지남에 따라 내 코드도 기억 못함

  <details>
    <summary>3.1.1 자신에게 분명하다고 해서 다른 사람에게도 분명한 것은 아니다</summary>

    문제 해결을 위해 여러 단계를 거치며 몇 시간 혹 며칠을 보내기 때문에 나는 로직이 익숙함.  
    
    하지만 남이 내 코드를 사용 or 변경 or 내 코드가 의존하는 코드 변경 등 상황이 있고 남은 익숙하지 않음

    주석문 많이 작성 한다는 의미가 아니라 코드 자체로 설명 되게 하는 것이 좋은 방법.
  </details>

  <details>
    <summary>3.1.2 다른 개발자는 무의식중에 여러분의 코드를 망가뜨릴 수 있다</summary>

    코드는 여러 다른 코드에 의존, 그 코드는 또 다른 코드에 의존  
    기능 추가 및 리팩터링하며 그런 코드들이 계속 변함

    문제가 있으면 코드 병합히면 안되기 때문에 뭔가 문제가 있을 때  
    1. 컴파일 중지 
    2. 테스트 실패하도록 만들기

  </details>

  <details>
    <summary>3.1.3 시간이 지나면 자신의 코드를 기억하지 못한다</summary>

    시간이 지난 후 새로운 기능 추가 or 발견된 버그 해결 시 기억이 안남

    좋은 코드 작성은 미래의 자신에게도 유익

  </details>
</details>

<details>
  <summary>3.2 여러분이 작성한 코드의 사용법을 다른 사람들은 어떻게 아는가?</summary>
  
  구체적으로 그들은 다음과 같은 사항을 이해할 필요가 있음
  - 여러 가지 상황에서 어떤 함수를 호출해야 하는지
  - 클래스가 무엇을 나타내는지 그리고 언제 사용되어야 하는지
  - 어떤값을 인수로 사용해야 하는지
  - 코드가 수행하는 동작이 무엇인지
  - 어떤 값을 반환하는지

  코드 사용법을 알아내는 방법
  - 함수, 클래스, 열거형 등의 이름을 살펴
  - 함수와 생성자의 매개변수 유형 또는 반환값의 유형 같은 데이터유형을 살펴봄
  - 함수/클래스 수준의 문서나 주석문을 읽어본다.
  - 직접 와서 묻거나 채팅/이메일을 통해 문의
  - 여러분이 작성한 함수와 클래스의 자세한 구현 코드를 읽음

  이 중 처음 세 가지 만이 실제로 사용, 그 중 처음 두 가지가 더 신뢰할 만함

  <details>
    <summary>3.2.1 이름 확인</summary>

    패키지, 클래스, 함수의 이름을 책의 목차라고 생각 할 수 있음. 하위 문제를 해결할 코드를 찾기 편리하고 빠름
    따라서 코드를 어떻게 사용해야 하는지이 대해 가장 잘 전달할 수 있는 방법 중 하나는 이름을 잘 짓는 것

  </details>

  <details>
    <summary>3.2.2 데이터 유형 확인</summary>

    컴파일이 필요한 정적 유형의 언어에서는 타입을 인식하고 올바르게 사용하지 않으면 컴파일되지 않음  
    따라서 타입을 사용하는 언어로 작성하는 것은 코드를 오용, 오작동할 수 없도록 하기 위한 좋은 방법

  </details>

  <details>
    <summary>3.2.3 문서 읽기</summary>

    문서는 다음과 같은 형태로 존재 가능
    - 함수 및 클래스 수준의 비공식적인 주석문
    - 자바독과 같은 좀 더 공식적인 코드 내 문서
    - 외부 문서(README.md, 웹 페이지, 지침 문서 등)

    유용하지만 어느정도 까지만 신뢰할 수 있음. 그 이유로
    - 다른 개발자가 이 문서들을 읽을 것이라는 보장 없고 실제로 않읽음
    - 읽어도 잘못 해석할 수 있음. 익숙하지 않은 용어 사용하거나 다른 개발자들의 수준에 대해 잘못된 가정 바탕으로 작성한다면
    - 문서의 업데이트가 제대로 안될 수 있음. 코드 변경 마다 업데이트를 잊어버리면 문서가 더 이상 유효하지 않음

  </details>

  <details>
    <summary>3.2.4 직접 물어보기</summary>

    코드를 작성한 지 얼마 안됐으면 상당히 효과적. 하지만 다음 이유로 신뢰하기 어려움
    - 코드를 많이 작성할수록 답하는데 많은 시간 사용
    - 작성자가 휴가 간다면 못 물어봄
    - 1년이 지나면 작성자도 기억 못함
    - 작성자가 회사를 떠나면 못 물어봄

  </details>

  <details>
    <summary>3.2.5 코드를 살펴보는 것</summary>

    가장 확실한 답을 얻을 수 있는 방법임  
    하지만 실용적이지 않고 코드 양이 많으면 효과 얻기 힘듬. 의존하는 모든 코드의 구현을 본다면 수천 줄을 읽어야함  

    추상화 계층을 만드는 요점은 개발자가 한 번에 몇 가지 개념만 처리해야 하고, 어떻게 동작하는지 정확히 몰라도 하위 문제 해결책으로 사용할 수 있어야 함. 코드 구현을 본다면 이는 이 이점을 부정하는 것

  </details>

</details>

<details>
  <summary>3.3 코드계약</summary>
  
  

  <details>
    <summary>3.3.1 계약의세부조항</summary>
  </details>

  <details>
    <summary>3.3.2 세부조항에너무의존하지말라</summary>

    <details>
      <summary>세 부 조항 을 제 거하 는 방 법</summary>
    </details>

  </details>

</details>

<details>
  <summary>3.4 체크및어서션</summary>

  <details>
    <summary>3.4.1 체크</summary>
  </details>

  <details>
    <summary>3.4.2 어서션</summary>
  </details>

</details>

### 요약
